var initPhotoSwipeVideoFromDOM=function(e){for(var t=function(e){for(var t,n,r,i=e.childNodes,o=i.length,a=[],l=0;o>l;l++)t=i[l],1===t.nodeType&&(n=t.children[0],r={html:'<iframe class="yt-vidframe" src="'+n.getAttribute("href")+'" frameborder="0" scrolling="no"></iframe>'},t.children.length>1&&(r.title=t.children[1].innerHTML),n.children.length>0&&(r.msrc=n.children[0].getAttribute("src")),r.el=t,a.push(r));return a},n=function c(e,t){return e&&(t(e)?e:c(e.parentNode,t))},r=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,r=n(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(r){for(var i,a=r.parentNode,l=r.parentNode.childNodes,d=l.length,u=0,c=0;d>c;c++)if(1===l[c].nodeType){if(l[c]===r){i=u;break}u++}return i>=0&&o(i,a),!1}},i=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),r=0;r<n.length;r++)if(n[r]){var i=n[r].split("=");i.length<2||(t[i[0]]=i[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t.hasOwnProperty("pid")?(t.pid=parseInt(t.pid,10),t):t},o=function(e,n,r){function i(){var e=document.getElementsByTagName("iframe");if(null!=e)for(var t=0;t<e.length;t++)e[t].src=e[t].src}var o,a,l,d=document.querySelectorAll(".pswp")[0];l=t(n),a={index:e,galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=l[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,r=t.getBoundingClientRect();return{x:r.left,y:r.top+n,w:r.width}},history:!1,focus:!1,showAnimationDuration:0,hideAnimationDuration:0},r&&(a.showAnimationDuration=0),o=new PhotoSwipe(d,PhotoSwipeUI_Default,l,a),o.init(),o.listen("close",function(){i()})},a=document.querySelectorAll(e),l=0,d=a.length;d>l;l++)a[l].setAttribute("data-pswp-uid",l+1),a[l].onclick=r;var u=i();u.pid>0&&u.gid>0&&o(u.pid-1,a[u.gid-1],!0)};
